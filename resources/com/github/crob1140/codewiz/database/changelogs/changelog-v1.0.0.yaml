databaseChangeLog:
  - changeSet:
      id: v1.0.0-create-repositories-table
      author: CJR
      changes:
      - createTable:
          tableName: repositories
          columns:
          - column:
              name: id
              type: uuid
              constraints:
                primaryKey: true
                nullable: false
          - column:
              name: domain
              type: varchar(50)
              constraints: 
                nullable: false
          - column:
              name: username
              type: varchar(50)
              constraints:
                nullable: false
          - column:
              name: repository
              type: varchar(255)
              constraints:
                nullable: false
          - column:
              name: branch
              type: varchar(255)
              constraints:
                nullable: false
          - column:
              name: commit_hash
              type: char(40)
              constraints:
                nullable: false
      - createIndex:
          indexName: idx_repositories_search
          tableName: repositories
          columns:
          - column:
              name: domain
              type: varchar(50)
          - column:
              name: username
              type: varchar(50)
          - column:
              name: repository
              type: varchar(255)
          - column:
              name: branch
              type: varchar(255)
          - column:
              name: commit_hash
              type: char(40)